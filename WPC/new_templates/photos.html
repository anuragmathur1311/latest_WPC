{%if me%}
		{%extends "index_user.html"%}
{%else%}
		{%extends "index.html"%}
{%endif%}

{%block title%}
  {%if me%}
    {{me.name}} | Photos | WPC
  {%else%}
    Photos | WPC
  {%endif%}
{%endblock%}

{%block styleSheets%}
<!-- Bootstrap core CSS -->
<link href="/css/bootstrap.css" rel="stylesheet">
<!-- Add custom CSS here -->
<link href="/css/my_studio.css" rel="stylesheet">
<link href="/css/font.css" rel="stylesheet">
<link href="/css/blog.css" rel="stylesheet">

{%endblock%}

{%block carousel%}
{%endblock%}

{%block pageContent%}
 <div class="row">
    <div class="col-md-2">
    </div>
    <div class="col-md-4 col-md-offset-2">
        <h1> WPC<em>photos</em>  {%if not me%}<a href="/signin"><button class="btn btn-xs btn-danger" type="button"><i class="fa fa-register" style="color:white;"></i>  Register with WPC</button></a>{%endif%}</h1>
    </div>
  </div>

    <div id="myCarousel" class="carousel slide" data-ride="carousel">
      <div class="carousel-inner">
        {%for p in top_100%}
         {%if loop.first%}
            <div class="item active">
          {%else%}
            <div class="item">
          {%endif%}
            <a href="/photo/{{p.key.urlsafe()}}"><img src="{{get_serving_url(p.blobKey)}}" alt="{{p.name}}"/></a>
            <div class="container">
              <div class="carousel-caption">
              </div>
            </div>
          </div>
       {%if loop.index % 5 == 0%}
         <div class="item">
          <div class="item">
          <div style="margin:0px;">
            <img src="/images/img_2.jpg" height="250px" width="300px">
            <img src="/images/img_2.jpg" height="250px" width="300px">
            <img src="/images/img_2.jpg" height="250px" width="300px">
          </div>
            <div class="container">
              <div class="carousel-caption">
              </div>
            </div>
          </div>
         </div>
        {%endif%}
        {%endfor%}
      </div>
      <a class="left carousel-control" href="#myCarousel" data-slide="prev"><span class="glyphicon glyphicon-chevron-left"></span></a>
      <a class="right carousel-control" href="#myCarousel" data-slide="next"><span class="glyphicon glyphicon-chevron-right"></span></a>
    </div>
    {%block signup_links%}  
    {%endblock%}
    <hr>

    <div class="col-md-12 text-center">
        <p>Ads</p>
        <img src="/images/img_2.jpg"  height="90px" width="728px">
    </div>
    <div class="col-md-12 text-center">
    <hr>
</div>
    <h4>WPC Top 100 Photos</h4>
    <form role="form" method="post">
      <input type="hidden" name="photo_list" value="top_100">
      <input type="hidden" name="list_type" value="default_list">
       <button class="btn_genre" type="submit" style="color:blue;">View All</button>
    </form>
    <div class="col-md-12 top_photos">
      {%for p in top_100%}
          <a href="/photo/{{p.key.urlsafe()}}"><img src="{{get_serving_url(p.blobKey, size=400)}}" alt="{{p.caption}}" class="img-rounded shadow_class" height="400px"></a>
      {%endfor%}
    </div>
    <div class="row">
      <hr>
    </div>
    <!--
  <h4>WPC Curated Groups</h4>
    <form role="form" method="post">
      <input type="hidden" name="photo_list" value="top_100">
      <input type="hidden" name="list_type" value="default_list">
       <button class="btn_genre" type="submit" style="color:blue;">View All</button>
    </form>
     <div class="col-md-12 text-center">
    <hr>
</div>
-->
    <div class="col-md-12 text-center">
        <p>Ads</p>
        <img src="/images/img_2.jpg"  height="90px" width="728px">
    </div>
    <div class="col-md-12 text-center">
    <hr>
</div>
    <div class="col-md-12">
      <h4>Photography Genre</h4>
    {%for pi_list in [('Advertising'), ('Aerial'), ('Architectural'), ('Astronomical'), ('Music'), ('Event'), ('Family'), ('Fashion'), ('Food'), ('Landscape'), ('Macro'), ('Medical'), ('Nude'), ('Photojournalism'), ('Scientific'), ('Sports'), ('Street'), ('Travel'), ('Underwater'), ('Vehicle'), ('Wedding'), ('Wildlife')]%}
      <form role="form" method="post">
        <input type="hidden" name="photo_list" value="{{pi_list}}">
        <input type="hidden" name="list_type" value="genre">
        <div class="col-lg-2 col-md-2 text-center">
            <div class="service-item change_color">
                <button class="btn_genre" type="submit"><i  style="color:red;" class="service-icon-photos fa fa-{{pi_list}}"></i>
                <h4 style="color:black;">{{pi_list}}</h4></button>
            </div>
        </div>
      </form>
    {%endfor%}
    </div>
    <div class="row">
      <hr>
    </div>
    <h4>WPC Recommended Photos</h4>
    <form role="form" method="post">
      <input type="hidden" name="photo_list" value="recommended">
      <input type="hidden" name="list_type" value="default_list">
       <button class="btn_genre" type="submit" style="color:blue;">View All</button>
    </form>
    <div class="col-md-12 small_photos">
      {%for p in recommended%}
          <a href="/photo/{{p.key.urlsafe()}}"><img src="{{get_serving_url(p.blobKey, size=400)}}" alt="{{p.caption}}" class="img-rounded shadow_class" height="100px"></a>
      {%endfor%}
    </div>
    <div class="row">
      <hr>
    </div>
<!--    <h4>WPC Photo Playlists</h4><a>View All</a>
    <div class="col-md-12 small_photos">
      <form role="form" method="post">
       {%for p in most_viewed%}
            <input type="hidden" name="photoKey" value="{{p.key.urlsafe()}}">
            <button type="submit" class="btn btn-success btn-lg padding-top">{{p.caption}}</button>
      {%endfor%}
      </form>
    </div>
    <div class="row">
      <hr>
    </div> -->

    <div class="col-md-12 text-center">
        <p>Ads</p>
        <img src="/images/img_2.jpg"  height="90px" width="728px">
    </div>
    <div class="col-md-12 text-center">
    <hr>
</div>
    <h4>Most Viewed Photos</h4>
    <form role="form" method="post">
      <input type="hidden" name="photo_list" value="most_viewed">
      <input type="hidden" name="list_type" value="default_list">
       <button class="btn_genre" type="submit" style="color:blue;">View All</button>
    </form>
    <div class="col-md-12 small_photos">
       {%for p in most_viewed%}
          <a href="/photo/{{p.key.urlsafe()}}"><img src="{{get_serving_url(p.blobKey, size=100)}}" alt="{{p.caption}}" class="img-rounded shadow_class" height="100px"></a>
      {%endfor%}
    </div>
    <div class="row">
      <hr>
    </div>
    
    <div class="col-md-5 col-md-offset-1">
      <h4>Popular Tags</h4><br>
      <button type="submit" class="btn btn-danger padding-top">Beginner Photographer</button>
      <button type="submit" class="btn btn-danger padding-top">Beginner Photographer</button>
      <button type="submit" class="btn btn-danger padding-top">Beginner Photographer</button>
      <button type="submit" class="btn btn-danger padding-top">Beginner Photographer</button>
      <button type="submit" class="btn btn-danger padding-top">Beginner Photographer</button>
      <button type="submit" class="btn btn-danger padding-top">Beginner Photographer</button>
      <button type="submit" class="btn btn-danger padding-top">Beginner Photographer</button>
      <button type="submit" class="btn btn-danger padding-top">Beginner Photographer</button>
      <button type="submit" class="btn btn-danger padding-top">Beginner Photographer</button>
      <button type="submit" class="btn btn-danger padding-top">Beginner Photographer</button>
      <hr>
    </div>
    <div class="col-md-5">
      <h4>Popular Locations</h4><br>
      <button type="submit" class="btn btn-info padding-top">Beginner Photographer</button>
      <button type="submit" class="btn btn-info padding-top">Beginner Photographer</button>
      <button type="submit" class="btn btn-info padding-top">Beginner Photographer</button>
      <button type="submit" class="btn btn-info padding-top">Beginner Photographer</button>
      <button type="submit" class="btn btn-info padding-top">Beginner Photographer</button>
      <button type="submit" class="btn btn-info padding-top">Beginner Photographer</button>
      <button type="submit" class="btn btn-info padding-top">Beginner Photographer</button>
      <button type="submit" class="btn btn-info padding-top">Beginner Photographer</button>
      <button type="submit" class="btn btn-info padding-top">Beginner Photographer</button>
      <button type="submit" class="btn btn-info padding-top">Beginner Photographer</button>
      <hr>
    </div>
    <div class="row">
    </div>
    <h4>Top Photographers by WPC Score</h4>
    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 top_photos">
    {%for fl in top_users%}
        <div class="col-md-2 col-sm-6 col-xs-12">
            <p>{{fl.name}}</p>
            <img class="img-circle" src="{{fl.avatar_url}}" height="100px" alt="Profile image">
            <a href="/{{fl.key.id()}}"><h5 style="color:black;"><em>{{fl.name}}<em></h5>
            <img src="/fonts/Flags/{{fl.country}}.png" alt="country" width="40px"></a>
            <h5 style="color:green"><em>#{{fl.wpc_score}}</em></h5>
            {%if me%}
                <div class="button-container">
                <a href="/{{fl.key.id()}}/photos"><button type="button" class="btn btn-info btn-xs"><span class="glyphicon glyphicon-picture" style="color:white;"></span></button></a>
                  {%if fl.key.id() == me.key.id()%}
                    <button type="button" class="btn btn-info btn-xs"  disabled="disabled"><span class="glyphicon glyphicon-plus" style="color:white;"></span></button>
                  {%else%}
                    <button class="btn btn-primary btn-xs" id="after_photographer_add_{{loop.index}}" type="submit" title="Follow this Photographer"><a onclick="photographer_add_button('{{fl.key.id()}}', '{{me.key.id()}}', 'after_photographer_add_{{loop.index}}');" href="javascript:void(0);"><i style="color:white;" class="fa fa-plus fa-1x"></i></a></button>
                  {%endif%}
              </div>
              {%endif%}
        </div><!-- /.col-lg-4 -->
   {%endfor%}
    </div>
    <div class="row">
      <hr>
    </div>
    <h4>Most liked Photos</h4>
    <form role="form" method="post">
      <input type="hidden" name="photo_list" value="most_liked">
      <input type="hidden" name="list_type" value="default_list">
       <button class="btn_genre" type="submit" style="color:blue;">View All</button>
    </form>
    <div class="col-md-12 small_photos">
      {%for p in most_liked%}
          <a href="/photo/{{p.key.urlsafe()}}"><img src="{{get_serving_url(p.blobKey,size=100)}}" alt="Profile Image" class="img-rounded shadow_class" height="100px"></a>
      {%endfor%}
    </div>
    <div class="row">
      <hr>
    </div>
    <script>
      function add_button(photo_key, div_count) {
        document.getElementById('loading').innerHTML = "<p style='color:white;'>Adding Photo...</p>";
        var output = $.post( "/options", {actionType : 'carousel_add', photoKey : photo_key} );
        output.done(function( data ) {
          document.getElementById('loading').innerHTML = "<p style='color:white;'>Added Photo</p>";
          document.getElementById('loading').innerHTML = ""; 
          if (data.success == 1) {
            document.getElementById(div_count).innerHTML = "<a><i class='fa fa-plus' style='color:yellow;'></i></a>";
        }
        });
      }
      function photo_list_add_button(photo_key, div_count) {
        document.getElementById('loading').innerHTML = "<p style='color:white;'>Adding Photo...</p>";
        var output = $.post( "/options", {actionType : 'photo_list_add', photoKey : photo_key} );
        output.done(function( data ) {
          document.getElementById('loading').innerHTML = "<p style='color:white;'>Added Photo</p>";
          document.getElementById('loading').innerHTML = ""; 
          if (data.success == 1) {
            document.getElementById(div_count).innerHTML = "<a style='color:yellow;'><i class='fa fa-plus' style='color:yellow;'></i></a>";
        }
        });
      }
      function like_button(photo_key, div_count) {
        document.getElementById('loading').innerHTML = "<p style='color:white;'>Liking Photo...</p>";
        var output = $.post( "/options", {actionType : 'carousel_like', photoKey : photo_key} );
        output.done(function( data ) {
          document.getElementById('loading').innerHTML = "<p style='color:white;'>Liked Photo</p>";
          document.getElementById('loading').innerHTML = ""; 
          if (data.success == 1) {
            document.getElementById(div_count).innerHTML = "<a><i class='fa fa-thumbs-o-up' style='color:yellow;'></i></a>";
        }
        });
      }
      function photo_list_like_button(photo_key, div_count) {
        document.getElementById('loading').innerHTML = "<p style='color:white;'>Liking Photo...</p>";
        var output = $.post( "/options", {actionType : 'photo_list_like', photoKey : photo_key} );
        output.done(function( data ) {
          document.getElementById('loading').innerHTML = "<p style='color:white;'>Liked Photo</p>";
          document.getElementById('loading').innerHTML = ""; 
          if (data.success == 1) {
            document.getElementById(div_count).innerHTML = "<a style='color:yellow;'><i class='fa fa-thumbs-up fa-1x'></i></a>";
        }
        });
      }
      function photographer_add_button(user_key, me_key, div_count) {
        document.getElementById('loading').innerHTML = "<p style='color:white;'>Following...</p>";
        var output = $.post( "/options", {user_key : user_key, self_user_key : me_key,  actionType : 'follow'} );
        output.done(function( data ) {
          document.getElementById('loading').innerHTML = "<p style='color:white;'>Liked Photo</p>";
          document.getElementById('loading').innerHTML = ""; 
          if (data.success == 1) {
            document.getElementById(div_count).innerHTML = "<a style='color:yellow;'><i class='fa fa-plus fa-1x'></i></a>";
        }
        });
      }
    </script>

{%endblock%}