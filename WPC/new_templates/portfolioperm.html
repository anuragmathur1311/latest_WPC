{%if me%}
    {%extends "index_user.html"%}
{%else%}
    {%extends "index.html"%}
{%endif%}

{%block title%}
{{user.name}} | WPC
{%endblock%}

{%block styleSheets%}
<!-- Bootstrap core CSS -->
<link href="/css/bootstrap.css" rel="stylesheet">
<!-- Add custom CSS here -->
<link href="/css/my_studio.css" rel="stylesheet">
<link href="/css/font.css" rel="stylesheet">
<link href="/css/camera_lenses.css" rel="stylesheet">

{%endblock%}

{%block carousel%}
{%endblock%}

{%block signup_links%}  
{%endblock%}

{%block pageContent%}
    <!-- Full Page Image Header Area -->
    
    <div id="top" class="header" style="background: url({{user.cover1_url}}) no-repeat center center fixed;background-size: cover;z-index:1;">
      <div class="transbox_top_right">
        <a data-toggle="modal" data-target=".cover_image_1" style="color:white;"><i style="font-size:20px;" class="fa fa-edit"></i></a>
      </div>
      <div class="transbox_bottom_right">
        <div class="col-md-12" style="margin:0px;">
          <div class="col-md-2" style="margin-top:-50px;height:50px;z-index:3;left:5px;">
            <div class="profile-img">
              <img src="{{user.avatar_url}}" alt="Profile Image" style="margin-left:-25px;margin-top:0px;" width="200px">
            </div>
          </div>
          <div class="col-md-2" style="margin:-5px;left:12%;">
            <h2><a class="" href="/{{me.key.id()}}" style="color:white;font-size:20px;padding_bottom:2px;" ><em>  {{user.name}} </em></a></h2>
            <img src="/fonts/Flags/{{me.country}}.png" alt="country" width="30px"/>
          </div>
          <div class="col-md-4" style="margin:30px;">
              <a href="/{{me.key.id()}}/about" style="color:white;"><button type="button" style="margin:5px;" class="btn btn-info btn-sm photographer_options"><i class="fa fa-key"></i></button></a>
              <button type="button" class="btn btn-info btn-sm photographer_options"><span class="glyphicon glyphicon-pushpin" style="color:white;"></span></button>
              <button type="button" style="margin:5px;" class="btn btn-info btn-sm photographer_options"><i class="fa fa-envelope"></i></button>
              <button type="button" style="margin:5px;" class="btn btn-info btn-sm photographer_options"><i class="fa fa-share"></i></button>
              <button type="button" style="margin:5px;" class="btn btn-info btn-sm photographer_options"><i class="fa fa-trophy"></i></button>
           </div>
          <div class="col-md-5" style="margin:0px;">
            <div class="col-md-2" style="margin:0px;">
              <h2 style="color:white;">12</h2>
              <h4 style="color:yellow;">Followers</h4>
            </div>
            <div class="col-md-2" style="margin:0px;">
              <h2 style="color:white;">12</h2>
              <h4 style="color:yellow;">Following</h4>
            </div>
            <div class="col-md-2" style="margin:0px;">
              <h2 style="color:white;">{{photos.count()}}</h2>
              <h4 style="color:yellow;">Photos</h4>
            </div>
            <div class="col-md-2" style="margin:0px;">
              <h2 style="color:white;">12</h2>
              <h4 style="color:yellow;">Awards</h4>
            </div>
            <div class="col-md-2" style="margin:15px;">
              <a href="{{user.website}}"><img src="/images/WPC_app_icon.jpg" alt="Profile Image" width="60px"><br></a>
            </div>
          </div>        
        </div>
      </div>
    </div>

    <!-- Callout -->
    <div class="callout" id="callout" style="background: url({{user.cover2_url}}) no-repeat center center fixed;background-size: cover;z-index:2;">
        <div class="vert-text">
            <div class="row col-md-12" style="margin:0px;">
              <div class="col-md-1">
                <a data-toggle="modal" data-target=".profile_image" style="color:white;z-index:4;"><i style="font-size:20px;" class="fa fa-edit"></i></a>
              </div>
                <div class="col-md-4 col-md-offset-3 text-center">
                  {%if me%}
                    <h3>Photography Interests <a data-toggle="modal" data-target=".photography_interests"><i style="font-size:20px;color:white" class="fa fa-edit"></i></a></h3>
                  {%else%}
                    <h3>Photography Interests</h3>
                  {% endif %}
                    <hr>
                </div>
                <div class="col-md-4" style="margin:0px;text-align:right;right:10px;">
                  <a data-toggle="modal" data-target=".cover_image_2"><i style="font-size:20px;color:white;" class="fa fa-edit"></i></a>
                </div>
            </div>
            <div class="row text-center">
                <div class="col-lg-2 col-md-2 text-center">
                    <div class="service-item">
                        <i class="service-icon fa fa-Travel"></i>
                        <h4>Travel</h4>
                    </div>
                </div>
                <div class="col-lg-2 col-md-2 text-center">
                    <div class="service-item">
                        <i class="service-icon fa fa-Wildlife"></i>
                        <h4>Wildlife</h4>
                    </div>
                </div>
                <div class="col-lg-2 col-md-2 text-center">
                    <div class="service-item">
                        <i class="service-icon fa fa-Fashion"></i>
                        <h4>Fashion</h4>
                    </div>
                </div>
                <div class="col-lg-2 col-md-2 text-center">
                    <div class="service-item">
                        <i class="service-icon fa fa-Music"></i>
                        <h4>Music</h4>
                    </div>
                </div>
                <div class="col-lg-2 col-md-2 text-center">
                    <div class="service-item">
                        <i class="service-icon fa fa-Photojournalism"></i>
                        <h4>Photojournalism</h4>
                    </div>
                </div>
                <div class="col-lg-2 col-md-2 text-center">
                    <div class="service-item">
                        <i class="service-icon fa fa-Street"></i>
                        <h4>Street</h4>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- /Callout -->
    <br>
    <h2>All Photos {%if me%}<a href="/signin"><button class="btn btn-sm btn-danger" type="button"><i class="fa fa-register" style="color:white;"></i>  Send for Review</button></a>{%endif%}</h2><hr>
  <div class="row" style="margin-top:20px;z-index:1;"> 
    <div class="container">
      <div id="my_ideas">
      {%for p in photos%}
        <div class="col-md-3 col-sm-3 col-xs-4" style="overflow:hidden;" align="center">
          <a href="/photo/{{p.key.urlsafe()}}"><img src="/servephoto/{{p.blobKey}}" height="140px" id="temp1" alt="photo"></a>
          <br>
          
          <div class="button-container post-action padding_top" style="margin-bottom:10px">
            <p>{{p.likes}} <i class="fa fa-thumbs-o-up fa-1x"></i> | {{p.viewed}} <i class="fa fa-eye fa-1x"></i></p>
            <form method="post">
              <input type="hidden" name="actionType" value="edit">
              <input type="hidden" name="photoKey" value="{{p.key.urlsafe()}}">
              <button class="btn btn-primary btn-xs" type="submit" value="Edit"><span class="glyphicon glyphicon-edit" style="color:white;"></span></button>
            </form>
            <form method="post">
              <input type="hidden" name="actionType" value="delete">
              <input type="hidden" name="photoKey" value="{{p.key.urlsafe()}}">
              <button class="btn btn-primary btn-xs" type="submit" value="Delete"><span class="glyphicon glyphicon-trash" style="color:white;"></span></button>
            </form>
            <form method="post">
              <input type="hidden" name="actionType" value="add">
              <input type="hidden" name="photoKey" value="{{p.key.urlsafe()}}">
              <button class="btn btn-primary btn-xs" type="submit" value="Delete"><span class="glyphicon glyphicon-plus" style="color:white;"></span></button>
            </form>
            <form method="post">
              <input type="hidden" name="actionType" value="share">
              <input type="hidden" name="photoKey" value="{{p.key.urlsafe()}}">
              <button class="btn btn-primary btn-xs" type="submit" value="Delete"><i class="fa fa-share fa-1x"></i></button>
            </form>
            <form method="post">
              <input type="hidden" name="actionType" value="download">
              <input type="hidden" name="photoKey" value="{{p.key.urlsafe()}}">
              <button class="btn btn-primary btn-xs" type="submit" value="Delete"><i class="fa fa-download fa-1x"></i></button>
            </form>
          </div>
        </div>
      {%endfor%}
    </div>
    </div>
  </div>

{%endblock%}

{%block javaScripts%}
<!-- JavaScript -->
<script src="https://maps.googleapis.com/maps/api/js"></script>
<script src="/js/jquery-1.10.2.js"></script>
<script src="/js/bootstrap.js"></script>
<script>
  function change_color_n_add_input(element, type) {
    
    if (element.style.color == "blue") {
        element.style.color = 'gray';
        document.getElementById(type).innerHTML = "<input type='hidden' name='photoTypeDelete' value='"+type+"'>";
    } else {
      element.style.color = 'blue';
      document.getElementById(type).innerHTML = "<input type='hidden' name='photoType' value='"+type+"'>";
    }
  }
</script>
    <script>
      function initialize() {
        var map_canvas = document.getElementById('map_canvas');
        var myLatlng = new google.maps.LatLng(28.600822, 77.314625);
        var map_options = {
          center: myLatlng,
          zoom: 8,
          mapTypeId: google.maps.MapTypeId.ROADMAP
        }
        var map = new google.maps.Map(map_canvas, map_options)
        var marker = new google.maps.Marker({
            position: myLatlng,
            map: map,
            title: 'Hello World!'
        });
      }
      google.maps.event.addDomListener(window, 'load', initialize);
    </script>
<!-- Custom JavaScript for the Side Menu and Smooth Scrolling -->
<script>
  $("#menu-close").click(function(e) {
    e.preventDefault();
      $("#sidebar-wrapper").toggleClass("active");
  });
</script>
<script>
  $("#menu-toggle").click(function(e) {
    e.preventDefault();
    $("#sidebar-wrapper").toggleClass("active");
  });
</script>
<script>
  $(function() {
    $('a[href*=#]:not([href=#])').click(function() {
      if (location.pathname.replace(/^\//, '') == this.pathname.replace(/^\//, '') || location.hostname == this.hostname) {
        var target = $(this.hash);
        target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');
        if (target.length) {
          $('html,body').animate({
            scrollTop: target.offset().top
          }, 1000);
          return false;
        }
      }
    });
  });
</script>
<script type='text/javascript' src='http://jqueryjs.googlecode.com/files/jquery-1.3.2.min.js'></script>
    <script>
      jQuery(document).ready(function() {
        var offset = 220;
        var duration = 1500;
        jQuery(window).scroll(function() {
          if (jQuery(this).scrollTop() > offset) {
            jQuery('.back-to-top').fadeIn(duration);
          } else {
            jQuery('.back-to-top').fadeOut(duration);
          }
        });
        jQuery('.back-to-top').click(function(event) {
          event.preventDefault();
          jQuery('html, body').animate({scrollTop: 0}, duration);
          return false;
        })
      });
    </script>
<script type="text/javascript">
function change_main_image(img_link, img_src) {
    //document.getElementById("main_img").innerHTML = "<img alt='' src='"+img_key+"' class='img_display'/>";
  document.getElementById("main_img").innerHTML = "<a href='"+img_link+"'><img alt='' src='"+img_src+"' class='img_display'/></a>";
} 
</script>
<script>
function f(){  
    //Check File API support

  //<label for="files">Select multiple files: </label>
  //<input id="files" type="file" multiple/>
  //<output id="result" />
    if(window.File && window.FileList && window.FileReader)
    {
        var filesInput = document.getElementById("myFile");
        filesInput.addEventListener("change", function(event){
            var files = event.target.files; //FileList object
            var output = document.getElementById("thumb_img");
            var num_files = files.length;
            var txt = "";
            var file_name_size = [];
            var file_name = [];
            var total_size = 0;
            for(var i = 0; i< files.length; i++)
            {
              txt = "";
                var file = files[i];
                if ('name' in files[i]) {
                    txt += "" + files[i].name + "<br>";
                }
                if ('size' in files[i]) {
                    //txt += "Size: " + file.size/1000000 + " Mbytes <br>";
                    txt += "Size: " + Math.ceil((files[i].size/1000000) * 100)/100 + " Mbytes <br>";
                }
                //Only pics
                file_name_size.push(txt);
                file_name.push(files[i].name)
                total_size = total_size + Math.ceil((files[i].size/1000000) * 100)/100;
                if(!file.type.match('image'))
                  continue;
                var picReader = new FileReader();
                var w = 0;
                picReader.addEventListener("load",function(event){
                  var picFile = event.target;
                    var div = document.createElement("div");
                    div.innerHTML = "<br><div class='col-xs-3'><img class='profile-img' src='" + picFile.result + "' height='100px' alt='"+file_name[w]+"'><h4 style='color:black;'>"+file_name_size[w]+"</h4><h5 class='form-signin-heading padding_bottom'>Update Photo Details</h5><input type='text' id='picCaption' name='caption' class='form-control padding_bottom' placeholder='Caption' value="+file_name[w]+" autofocus><input type='text' id='picLocation' name='location' class='form-control padding_bottom' placeholder='Location' autofocus><textarea type='textarea' id='picDescription' name='description' class='form-control padding_bottom' placeholder='Description'></textarea></div>";
                    w++;
                    output.insertBefore(div,null);            
                });
                 //Read the image
                picReader.readAsDataURL(file);
            }    
            document.getElementById("num_photos").innerHTML = "Uploaded 0/"+num_files+" Photos, Total Size = "+total_size+"Mbytes";                         
        });
    }
    else
    {
        console.log("Your browser does not support File API");
    }
}

function f1(){  
    //Check File API support

  //<label for="files">Select multiple files: </label>
  //<input id="files" type="file" multiple/>
  //<output id="result" />
    if(window.File && window.FileList && window.FileReader)
    {
        var filesInput = document.getElementById("myFile1");
        filesInput.addEventListener("change", function(event){
            var files = event.target.files; //FileList object
            var output = document.getElementById("thumb_img1");
            var num_files = files.length;
            var txt = "";
            var file_name_size = [];
            var file_name = [];
            var total_size = 0;
            for(var i = 0; i< files.length; i++)
            {
              txt = "";
                var file = files[i];
                if ('name' in files[i]) {
                    txt += "" + files[i].name + "<br>";
                }
                if ('size' in files[i]) {
                    //txt += "Size: " + file.size/1000000 + " Mbytes <br>";
                    txt += "Size: " + Math.ceil((files[i].size/1000000) * 100)/100 + " Mbytes <br>";
                }
                //Only pics
                file_name_size.push(txt);
                file_name.push(files[i].name)
                total_size = total_size + Math.ceil((files[i].size/1000000) * 100)/100;
                if(!file.type.match('image'))
                  continue;
                var picReader = new FileReader();
                var w = 0;
                picReader.addEventListener("load",function(event){
                  var picFile = event.target;
                    var div = document.createElement("div");
                    div.innerHTML = "<br><div class='col-xs-3'><img class='img-rounded' src='" + picFile.result + "' height='100px' alt='"+file_name[w]+"'><h4 style='color:black;'>"+file_name_size[w]+"</h4><h5 class='form-signin-heading padding_bottom'>Update Photo Details</h5><input type='text' id='picCaption' name='caption' class='form-control padding_bottom' placeholder='Caption' value="+file_name[w]+" autofocus><input type='text' id='picLocation' name='location' class='form-control padding_bottom' placeholder='Location' autofocus><textarea type='textarea' id='picDescription' name='description' class='form-control padding_bottom' placeholder='Description'></textarea></div>";
                    w++;
                    output.insertBefore(div,null);            
                });
                 //Read the image
                picReader.readAsDataURL(file);
            }    
            document.getElementById("num_photos").innerHTML = "Uploaded 0/"+num_files+" Photos, Total Size = "+total_size+"Mbytes";                         
        });
    }
    else
    {
        console.log("Your browser does not support File API");
    }
}

function f2(){  
    //Check File API support

  //<label for="files">Select multiple files: </label>
  //<input id="files" type="file" multiple/>
  //<output id="result" />
    if(window.File && window.FileList && window.FileReader)
    {
        var filesInput = document.getElementById("myFile2");
        filesInput.addEventListener("change", function(event){
            var files = event.target.files; //FileList object
            var output = document.getElementById("thumb_img2");
            var num_files = files.length;
            var txt = "";
            var file_name_size = [];
            var file_name = [];
            var total_size = 0;
            for(var i = 0; i< files.length; i++)
            {
              txt = "";
                var file = files[i];
                if ('name' in files[i]) {
                    txt += "" + files[i].name + "<br>";
                }
                if ('size' in files[i]) {
                    //txt += "Size: " + file.size/1000000 + " Mbytes <br>";
                    txt += "Size: " + Math.ceil((files[i].size/1000000) * 100)/100 + " Mbytes <br>";
                }
                //Only pics
                file_name_size.push(txt);
                file_name.push(files[i].name)
                total_size = total_size + Math.ceil((files[i].size/1000000) * 100)/100;
                if(!file.type.match('image'))
                  continue;
                var picReader = new FileReader();
                var w = 0;
                picReader.addEventListener("load",function(event){
                  var picFile = event.target;
                    var div = document.createElement("div");
                    div.innerHTML = "<br><div class='col-xs-3'><img class='img-rounded' src='" + picFile.result + "' height='100px' alt='"+file_name[w]+"'><h4 style='color:black;'>"+file_name_size[w]+"</h4><h5 class='form-signin-heading padding_bottom'>Update Photo Details</h5><input type='text' id='picCaption' name='caption' class='form-control padding_bottom' placeholder='Caption' value="+file_name[w]+" autofocus><input type='text' id='picLocation' name='location' class='form-control padding_bottom' placeholder='Location' autofocus><textarea type='textarea' id='picDescription' name='description' class='form-control padding_bottom' placeholder='Description'></textarea></div>";
                    w++;
                    output.insertBefore(div,null);            
                });
                 //Read the image
                picReader.readAsDataURL(file);
            }    
            document.getElementById("num_photos").innerHTML = "Uploaded 0/"+num_files+" Photos, Total Size = "+total_size+"Mbytes";                         
        });
    }
    else
    {
        console.log("Your browser does not support File API");
    }
}

function f3(){  
    //Check File API support

  //<label for="files">Select multiple files: </label>
  //<input id="files" type="file" multiple/>
  //<output id="result" />
    if(window.File && window.FileList && window.FileReader)
    {
        var filesInput = document.getElementById("myFile3");
        filesInput.addEventListener("change", function(event){
            var files = event.target.files; //FileList object
            var output = document.getElementById("thumb_img3");
            var num_files = files.length;
            var txt = "";
            var file_name_size = [];
            var file_name = [];
            var total_size = 0;
            for(var i = 0; i< files.length; i++)
            {
              txt = "";
                var file = files[i];
                if ('name' in files[i]) {
                    txt += "" + files[i].name + "<br>";
                }
                if ('size' in files[i]) {
                    //txt += "Size: " + file.size/1000000 + " Mbytes <br>";
                    txt += "Size: " + Math.ceil((files[i].size/1000000) * 100)/100 + " Mbytes <br>";
                }
                //Only pics
                file_name_size.push(txt);
                file_name.push(files[i].name)
                total_size = total_size + Math.ceil((files[i].size/1000000) * 100)/100;
                if(!file.type.match('image'))
                  continue;
                var picReader = new FileReader();
                var w = 0;
                picReader.addEventListener("load",function(event){
                  var picFile = event.target;
                    var div = document.createElement("div");
                    div.innerHTML = "<br><div class='col-xs-3'><img class='img-rounded' src='" + picFile.result + "' height='100px' alt='"+file_name[w]+"'><h4 style='color:black;'>"+file_name_size[w]+"</h4><h5 class='form-signin-heading padding_bottom'>Update Photo Details</h5><input type='text' id='picCaption' name='caption' class='form-control padding_bottom' placeholder='Caption' value="+file_name[w]+" autofocus><input type='text' id='picLocation' name='location' class='form-control padding_bottom' placeholder='Location' autofocus><textarea type='textarea' id='picDescription' name='description' class='form-control padding_bottom' placeholder='Description'></textarea></div>";
                    w++;
                    output.insertBefore(div,null);            
                });
                 //Read the image
                picReader.readAsDataURL(file);
            }    
            document.getElementById("num_photos").innerHTML = "Uploaded 0/"+num_files+" Photos, Total Size = "+total_size+"Mbytes";                         
        });
    }
    else
    {
        console.log("Your browser does not support File API");
    }
}

function start() {
  f();
  f1();
  f2();
  f3();
  var height = document.documentElement.clientHeight;
    window.scrollBy(0, Math.floor(0.6 * height));
}
window.onload = start;
</script>
{%endblock%}